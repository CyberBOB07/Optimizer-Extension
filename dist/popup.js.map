{"version":3,"file":"popup.js","mappings":"AAkBAA,SAASC,iBAAiB,oBAAoB,WAC1C,IAAMC,EAAeF,SAASG,eAAe,cAG7CC,OAAOC,QAAQC,MAAMC,IAAI,CAAC,mBAAmB,SAACC,GAE1C,IAAMC,OAAuCC,IAA1BF,EAAOG,gBAA+BH,EAAOG,eAChET,EAAaU,QAAUH,EAGnBA,GACAL,OAAOS,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,IAAQ,SAACH,GACtDT,OAAOS,KAAKI,YAAYJ,EAAK,GAAGK,GAAI,CAChCC,KAAM,qBACNC,MAAM,GAEd,GAER,IAGAlB,EAAaD,iBAAiB,UAAU,WACpC,IAAMU,EAAiBT,EAAaU,QACpCR,OAAOC,QAAQC,MAAMe,IAAI,CAAEV,eAAAA,IAG3BP,OAAOS,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,IAAQ,SAACH,GACtDT,OAAOS,KAAKI,YAAYJ,EAAK,GAAGK,GAAI,CAChCC,KAAM,qBACNC,KAAMT,GAEd,GACJ,IAhDAP,OAAOS,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,IAAQ,SAACH,GACtDT,OAAOS,KAAKI,YAAYJ,EAAK,GAAGK,GAAI,CAAEC,KAAM,qBAAsB,SAACG,GAC3DlB,OAAOmB,QAAQC,UACfC,QAAQC,IAAItB,OAAOmB,QAAQC,WAI3BF,IACAtB,SAASG,eAAe,UAAUwB,YAAcL,EAASM,OACzD5B,SAASG,eAAe,YAAYwB,YAAcL,EAASO,SAEnE,GACJ,GAwCJ","sources":["webpack://tradingview-optimizer/./src/popup.js"],"sourcesContent":["// Функция обновления информации в popup\r\nfunction updateInfo() {\r\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n        chrome.tabs.sendMessage(tabs[0].id, { type: 'GET_TRADING_INFO' }, (response) => {\r\n            if (chrome.runtime.lastError) {\r\n                console.log(chrome.runtime.lastError);\r\n                return;\r\n            }\r\n            \r\n            if (response) {\r\n                document.getElementById('symbol').textContent = response.symbol;\r\n                document.getElementById('interval').textContent = response.interval;\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// При загрузке popup\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const toggleSwitch = document.getElementById('showOnPage');\r\n    \r\n    // Загрузка состояния переключателя\r\n    chrome.storage.local.get(['showInfoWindow'], (result) => {\r\n        // Включено по умолчанию\r\n        const showWindow = result.showInfoWindow !== undefined ? result.showInfoWindow : true;\r\n        toggleSwitch.checked = showWindow;\r\n        \r\n        // Если окно должно быть показано по умолчанию, отправляем сообщение\r\n        if (showWindow) {\r\n            chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n                chrome.tabs.sendMessage(tabs[0].id, { \r\n                    type: 'TOGGLE_INFO_WINDOW',\r\n                    show: true\r\n                });\r\n            });\r\n        }\r\n    });\r\n\r\n    // Обработчик изменения переключателя\r\n    toggleSwitch.addEventListener('change', () => {\r\n        const showInfoWindow = toggleSwitch.checked;\r\n        chrome.storage.local.set({ showInfoWindow });\r\n        \r\n        // Отправляем сообщение в content script\r\n        chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n            chrome.tabs.sendMessage(tabs[0].id, { \r\n                type: 'TOGGLE_INFO_WINDOW',\r\n                show: showInfoWindow\r\n            });\r\n        });\r\n    });\r\n\r\n    // Обновляем информацию при открытии\r\n    updateInfo();\r\n});\r\n"],"names":["document","addEventListener","toggleSwitch","getElementById","chrome","storage","local","get","result","showWindow","undefined","showInfoWindow","checked","tabs","query","active","currentWindow","sendMessage","id","type","show","set","response","runtime","lastError","console","log","textContent","symbol","interval"],"sourceRoot":""}